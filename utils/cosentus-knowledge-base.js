// Cosentus Knowledge Base for AI Agent
// This knowledge base helps the AI understand Cosentus's perspective, sales process, and value proposition

export const COSENTUS_KNOWLEDGE_BASE = {
  // Company Overview
  company: {
    name: "Cosentus",
    type: "Revenue Cycle Management (RCM) Company",
    founded: "25+ years of experience",
    size: "Largest non-PE backed RCM company",
    employees: "100% in-house employees (no offshore)",
    headquarters: "United States",
    website: "cosentus.com"
  },

  // Core Services We Provide
  services: {
    primary: [
      "Comprehensive medical billing",
      "Insurance claim processing", 
      "Patient collections",
      "Denial management",
      "EMR integration",
      "Financial reporting",
      "Credentialing services",
      "Compliance support",
      "Prior authorization management",
      "Payment posting and reconciliation"
    ],
    specialties: [
      "Orthopedic surgery centers",
      "Pain management clinics", 
      "Ambulatory Surgery Centers (ASCs)",
      "OB/GYN practices",
      "Anesthesia billing",
      "Urgent Care centers",
      "Multi-location practice coordination",
      "Worker's compensation billing",
      "Complex procedures with high reimbursement rates",
      "Hospital billing",
      "Multi-specialty groups"
    ]
  },

  // Performance Metrics & Competitive Advantages
  performance: {
    collectionRate: "98-99% collection rate vs 75-85% industry average",
    averageAR: "34 days average A/R vs 45+ industry average", 
    cleanClaims: "100% clean claim submissions vs 82% industry average",
    revenueIncrease: "18% average revenue increase for clients",
    transparency: "100% transparent reporting with dedicated account management",
    implementation: "Seamless implementation with minimal disruption",
    support: "Dedicated account manager - single point of contact"
  },

  // Value Proposition
  valueProposition: {
    main: "Cosentus offers a comprehensive billing solution that alleviates the burdensome billing process from your shoulders, utilizing in-house employees to ensure transparency and accountability.",
    keyPoints: [
      "Proactive approach - we don't wait for issues to arise",
      "Active optimization of documentation and processes to maximize revenue", 
      "Straightforward percentage structure with no hidden fees",
      "Transparent reporting with clear insights into practice performance",
      "Dedicated account service with single point of contact",
      "Over 25 years of experience with 99% collection rate",
      "Proactive process optimization and documentation improvement",
      "Complete elimination of billing staff headaches and costs",
      "Industry-leading technology and EMR integrations",
      "Compliance expertise and risk mitigation"
    ]
  },

  // Ideal Client Profile
  idealClients: {
    practiceTypes: [
      "Orthopedic surgery centers",
      "Pain management clinics",
      "Multi-specialty groups", 
      "Ambulatory Surgery Centers (ASCs)",
      "OB/GYN practices",
      "Anesthesia providers",
      "Urgent Care centers",
      "Practices with complex procedures",
      "Multi-location practices",
      "High-volume practices",
      "Specialty surgical practices"
    ],
    positiveIndicators: [
      "High-reimbursement procedures",
      "Complex billing requirements",
      "Multiple locations needing coordination",
      "Current billing challenges or inefficiencies",
      "Denial management issues",
      "Poor collection rates (below 95%)",
      "Long accounts receivable (over 40 days)",
      "Staffing challenges in billing department",
      "Growth-focused practices",
      "Technology integration needs",
      "Annual revenue over $500K",
      "Multiple insurance payers",
      "Surgical procedures",
      "Worker's compensation cases",
      "Prior authorization requirements"
    ],
    redFlags: [
      "Very small practices (under $500K annual revenue)",
      "Cash-only practices",
      "Practices with simple billing needs",
      "Recent RCM changes (within 6 months)",
      "Practices owned by large health systems with internal billing",
      "Practices with unrealistic expectations",
      "Very price-sensitive practices",
      "Practices not open to change"
    ]
  },

  // Sales Process & Discovery
  salesProcess: {
    discoveryQuestions: {
      currentBilling: [
        "Who currently handles your billing - in-house staff or outsourced?",
        "What's your current collection rate?",
        "How many days is your average accounts receivable?",
        "What percentage of your claims are denied on first submission?",
        "How much time do you spend on billing-related issues each week?"
      ],
      painPoints: [
        "What are your biggest frustrations with your current billing process?",
        "How often do you have to follow up on unpaid claims?",
        "Do you feel you're getting paid the full amount you're owed?",
        "How transparent is your current billing reporting?",
        "Have you had to hire additional staff to handle billing?"
      ],
      practiceDetails: [
        "What types of procedures do you perform most frequently?",
        "How many providers do you have?",
        "How many locations do you operate?",
        "What EMR system do you use?",
        "What's your approximate annual revenue?"
      ]
    },
    qualificationCriteria: [
      "Annual revenue over $500K",
      "Complex procedures or multiple specialties", 
      "Current billing challenges or inefficiencies",
      "Decision-maker involvement",
      "Realistic timeline for implementation",
      "Open to percentage-based pricing model",
      "Growth-minded practice",
      "Multiple insurance payers"
    ]
  },

  // Common Objections & Proven Responses
  objections: {
    costConcerns: {
      objection: "Your percentage seems high / we want to keep costs low",
      response: "Most of our clients see an 18% revenue increase that more than covers our fee. Plus, you save on staff costs and denied claims. What matters is your net revenue, not just billing cost."
    },
    currentSatisfied: {
      objection: "We're happy with our current billing company/staff",
      response: "That's great! Even if satisfied, are you achieving 98%+ collection rate and 34-day A/R? If not, there might be revenue being left on the table."
    },
    timing: {
      objection: "Now isn't a good time to make changes",
      response: "I completely understand - changes can be disruptive. That said, every month you wait is potentially thousands in lost revenue. Our implementation process is designed to be seamless with minimal disruption to your practice. We handle the heavy lifting while you continue focusing on patients."
    },
    preferInhouse: {
      objection: "We prefer to keep billing in-house for control",
      response: "Control is definitely important. That's why we provide complete transparency with detailed reporting and a dedicated account manager. You'll actually have more visibility into your revenue cycle than most in-house operations provide, plus the expertise of specialists who do this all day, every day."
    },
    recentChange: {
      objection: "We just changed billing companies/systems recently",
      response: "I understand you've invested time in a recent change. How is it working out so far? Sometimes a recent change that isn't delivering expected results is actually the perfect time to get it right with a proven partner."
    }
  },

  // Competitive Differentiators
  differentiators: [
    "25+ years experience as largest non-PE backed RCM company",
    "100% in-house employees (no offshore outsourcing)",
    "Proactive approach to process optimization", 
    "Industry-leading performance metrics (98-99% collection rate)",
    "Dedicated account management with single point of contact",
    "Complete transparency in reporting",
    "No hidden fees - straightforward percentage structure",
    "Specialized expertise in high-value specialties",
    "Seamless EMR integrations",
    "Compliance expertise and risk mitigation",
    "18% average revenue increase for clients",
    "34-day average A/R vs 45+ industry standard"
  ],

  // Next Steps & Sales Process
  nextSteps: {
    initialInterest: [
      "Schedule a detailed discovery call",
      "Provide practice assessment",
      "Review current billing performance",
      "Present customized value proposition",
      "Share relevant case studies"
    ],
    qualifiedProspect: [
      "Conduct comprehensive practice analysis",
      "Present detailed proposal with ROI projection",
      "Arrange reference calls with similar practices",
      "Discuss implementation timeline and process",
      "Address specific concerns and objections"
    ],
    readyToMove: [
      "Prepare service agreement",
      "Schedule implementation kickoff",
      "Coordinate with current billing provider transition",
      "Set up dedicated account management",
      "Begin EMR integration process"
    ]
  },

  // Talk Tracks & Scripts
  talkTracks: {
    openingValue: "We help [specialty] practices like yours increase revenue by an average of 18% while eliminating the headaches of managing billing staff. Most of our clients see collection rates of 98-99% compared to the industry average of 75-85%.",
    
    painAgitation: "Many practices we work with were frustrated by [specific pain point from discovery]. They were leaving money on the table with poor collection rates, spending too much time on billing issues, and dealing with constant staff turnover in their billing department.",
    
    bridgeToSolution: "What we've found is that practices your size need a partner who not only handles the billing but proactively optimizes your entire revenue cycle. That's exactly what we do with our 25+ years of specialized experience.",
    
    socialProof: "We work with over [X] practices similar to yours, including [specific specialty] practices that have seen [specific results]. Just last month, one of our [similar specialty] clients increased their monthly collections by $X after switching to us."
  },

  // Common Use Cases for AI Agent
  aiAgentContext: {
    role: "The user is a Cosentus salesperson selling TO the practice that the report analyzes",
    perspective: "Help Cosentus salespeople understand how to position services to prospect practice"
  }
};

// Helper function to get relevant knowledge for specific contexts
export function getRelevantKnowledge(context, practiceType = null) {
  switch(context) {
    case 'discovery':
      return {
        questions: COSENTUS_KNOWLEDGE_BASE.salesProcess.discoveryQuestions,
        qualification: COSENTUS_KNOWLEDGE_BASE.salesProcess.qualificationCriteria,
        idealClient: COSENTUS_KNOWLEDGE_BASE.idealClients
      };
    case 'objections':
      return COSENTUS_KNOWLEDGE_BASE.objections;
    case 'valueProposition':
      return {
        valueProposition: COSENTUS_KNOWLEDGE_BASE.valueProposition,
        performance: COSENTUS_KNOWLEDGE_BASE.performance,
        differentiators: COSENTUS_KNOWLEDGE_BASE.differentiators
      };
    case 'qualification':
      return COSENTUS_KNOWLEDGE_BASE.idealClients;
    case 'talkTracks':
      return COSENTUS_KNOWLEDGE_BASE.talkTracks;
    case 'nextSteps':
      return COSENTUS_KNOWLEDGE_BASE.nextSteps;
    default:
      return COSENTUS_KNOWLEDGE_BASE;
  }
}

// Function to check if a practice is a good fit based on services/type
export function assessPracticeFit(practiceData) {
  const { services = [], practiceType = '', revenue = '', locations = [] } = practiceData;
  
  let fitScore = 0;
  let reasons = [];
  
  // Check for ideal practice types
  const idealTypes = COSENTUS_KNOWLEDGE_BASE.idealClients.practiceTypes;
  if (idealTypes.some(type => practiceType.toLowerCase().includes(type.toLowerCase()))) {
    fitScore += 20;
    reasons.push("Practice type aligns with our specialties");
  }
  
  // Check for complex services
  const complexKeywords = ['surgery', 'surgical', 'orthopedic', 'pain', 'anesthesia', 'procedure'];
  if (services.some(service => complexKeywords.some(keyword => service.toLowerCase().includes(keyword)))) {
    fitScore += 15;
    reasons.push("Offers complex procedures that benefit from specialized billing");
  }
  
  // Check for multiple locations
  if (locations.length > 1) {
    fitScore += 10;
    reasons.push("Multiple locations benefit from coordinated billing");
  }
  
  return {
    score: fitScore,
    level: fitScore >= 30 ? 'High Fit' : fitScore >= 15 ? 'Good Fit' : 'Moderate Fit',
    reasons
  };
} 